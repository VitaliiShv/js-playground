{"mappings":"YAAA,IAAMA,EAAO,CACXC,MAAOC,SAASC,cAAc,uBAC9BC,aAAcF,SAASC,cAAc,2BAInCE,EAAgB,EAChBC,GAAgB,EACdC,EAAQ,IAAIC,IAAIC,MAAM,uBAO5B,SAASC,IAVmB,IAWtBL,GAAyCC,EAC3CK,QAAQC,IAAI,iDAIdC,YAAW,WACTF,QAAQC,IAAI,wBACZL,EAAMO,OACNT,GAAiB,C,GApBA,I,CAMrBK,IAEAV,EAAKC,MAAMc,iBAAiB,gBAAiBL,GAC7CV,EAAKI,aAAaW,iBAAiB,SAenC,WACET,GAAgB,EAChBC,EAAMS,M","sources":["src/js/subscription.js"],"sourcesContent":["const refs = {\n  modal: document.querySelector('#subscription-modal'),\n  subscribeBtn: document.querySelector('button[data-subscribe]'),\n};\nconst PROMPT_DELAY = 3000;\nconst MAX_PROMPT_ATTEMPTS = 3;\nlet promptCounter = 0;\nlet hasSubscribed = false;\nconst modal = new BSN.Modal('#subscription-modal');\n\nopenModal();\n\nrefs.modal.addEventListener('hide.bs.modal', openModal);\nrefs.subscribeBtn.addEventListener('click', onSubscribeBtnClick);\n\nfunction openModal() {\n  if (promptCounter === MAX_PROMPT_ATTEMPTS || hasSubscribed) {\n    console.log('Максимальное кол-во надоеданий или подписался');\n    return;\n  }\n\n  setTimeout(() => {\n    console.log('Открываем надоедалку');\n    modal.show();\n    promptCounter += 1;\n  }, PROMPT_DELAY);\n}\n\nfunction onSubscribeBtnClick() {\n  hasSubscribed = true;\n  modal.hide();\n}\n"],"names":["$27a8470ba24f1260$var$refs","modal","document","querySelector","subscribeBtn","$27a8470ba24f1260$var$promptCounter","$27a8470ba24f1260$var$hasSubscribed","$27a8470ba24f1260$var$modal","BSN","Modal","$27a8470ba24f1260$var$openModal","console","log","setTimeout","show","addEventListener","hide"],"version":3,"file":"subscription.a7111ff9.js.map"}